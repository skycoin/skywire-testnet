<app-dialog
  id="sockscConnectContainer"
  [headline]="'apps.socksc.title' | translate">
  <mat-tab-group (selectedIndexChange)="onSwitchTab()">
    <mat-tab [label]="'apps.socksc.connect-keypair' | translate">
      <div class="pt-4">
        <app-keypair [required]="true" (keypairChange)="keypairChange($event)"></app-keypair>
        <app-button
          (action)="connect()"
          type="mat-raised-button"
          [disabled]="!keypair"
          color="primary"
          class="float-right"
        >
          {{ 'apps.socksc.connect' | translate }}
        </app-button>
      </div>
    </mat-tab>
    <mat-tab [label]="'apps.socksc.connect-search' | translate">
      <mat-tab-group #searchTabGroup>
        <mat-tab
          [label]="('common.discovery' | translate) + ' ' + (i + 1)"
          *ngFor="let discovery of discoveries; let i = index;"
        >
          <ng-template matTabContent>
            <app-search-nodes
              [discovery]="discovery"
              (connect)="connect($event)"></app-search-nodes>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </mat-tab>
    <mat-tab [label]="'apps.socksc.connect-history' | translate">
      <app-history app="socksc" (connect)="connect($event)"></app-history>
    </mat-tab>
  </mat-tab-group>
</app-dialog>
